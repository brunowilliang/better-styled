---
title: "API reference for utility functions"
sidebarTitle: "Utilities"
description: "cn(), mergeFinalProps(), and mergeStyles() - utility functions used internally that you can use directly."
---

## cn()

Merges class names with Tailwind conflict resolution.

### Signature

```tsx
function cn(...inputs: ClassValue[]): string | undefined
```

### Parameters

<ParamField path="inputs" type="ClassValue[]">
  Any number of class values: strings, arrays, objects, undefined, null, or false.
</ParamField>

### Returns

A merged class string, or `undefined` if the result is empty.

### Example

```tsx
import { cn } from "better-styled";

cn("px-4 py-2", "px-8");
// ‚Üí "py-2 px-8" (px-8 overrides px-4)

cn("text-red-500", condition && "text-blue-500");
// ‚Üí "text-blue-500" if condition is true

cn("base", undefined, null, false, "active");
// ‚Üí "base active"

cn();
// ‚Üí undefined (not empty string)
```

### How It Works

`cn` combines [clsx](https://github.com/lukeed/clsx) for conditional classes with [tailwind-merge](https://github.com/dcastil/tailwind-merge) for conflict resolution.

```tsx
// clsx handles conditionals
cn("base", isActive && "active", { "error": hasError });

// tailwind-merge handles conflicts
cn("p-4", "p-8");  // ‚Üí "p-8" not "p-4 p-8"
cn("text-sm", "text-lg");  // ‚Üí "text-lg"
```

---

## mergeFinalProps()

Merges multiple prop objects with special handling for className, style, and functions.

### Signature

```tsx
function mergeFinalProps<T>(...sources: Array<Partial<T> | undefined>): T
```

### Parameters

<ParamField path="sources" type="Array<Partial<T> | undefined>">
  Any number of partial prop objects. Later objects override earlier ones.
</ParamField>

### Returns

A merged props object.

### Example

```tsx
import { mergeFinalProps } from "better-styled";

const result = mergeFinalProps(
  { className: "p-4", onClick: () => console.log("a") },
  { className: "p-8", onClick: () => console.log("b") },
  { className: "m-2" }
);

// result:
// {
//   className: "p-8 m-2",  // Merged with cn()
//   onClick: [Function],   // Composed: logs "a" then "b"
// }
```

### Merge Behavior

| Prop Type | Behavior |
|-----------|----------|
| `className` | üîÄ Merged using `cn()` |
| `style` | üîÄ Merged using `Object.assign` |
| Functions | ‚õìÔ∏è Composed (all execute in order) |
| Others | ‚¨ÜÔ∏è Later value wins |

---

## mergeStyles()

Merges style objects.

### Signature

```tsx
function mergeStyles(
  ...styles: Array<Record<string, unknown> | undefined>
): Record<string, unknown> | undefined
```

### Parameters

<ParamField path="styles" type="Array<object | undefined>">
  Style objects to merge. Later objects override earlier ones.
</ParamField>

### Returns

A merged style object, or `undefined` if all inputs are undefined.

### Example

```tsx
import { mergeStyles } from "better-styled";

mergeStyles(
  { padding: 16, margin: 8 },
  { padding: 32 }
);
// ‚Üí { padding: 32, margin: 8 }

mergeStyles(undefined, { color: "red" });
// ‚Üí { color: "red" }

mergeStyles(undefined, undefined);
// ‚Üí undefined
```

---

## When to Use These

Most of the time, you won't need these utilities directly - `styled()` handles merging for you.

‚úÖ Use them when:
- Building custom abstractions on top of better-styled
- You need to merge props or classes outside of a styled component
- You want consistent merging behavior with the library

```tsx
// Custom component that needs to merge props
function CustomButton({ className, style, ...props }) {
  return (
    <button
      className={cn("base-button", className)}
      style={mergeStyles({ transition: "all 0.2s" }, style)}
      {...props}
    />
  );
}
```
